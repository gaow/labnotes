###
#! a short demo below
###

#!!! Mon May 7 21:36:19 CDT 2012

#{ ----
###
# Full
###
# with the #{---- mark, a section will show up only in full version.
#} ----

###
# A section of toys
###
#! Examples 1
# This is a regular sentence with supported emphasis signs: ``double quote'', `single quote',  "italics", ""bold"", """bold italics""", @@monospaced@@, @www.google.com@
#! Examples 2
#!! Example of list
#We recieved the following files from Michigan
#{ list
#Server: share.sph.umich.edu
#User name: sftp-espvariants
#Password: m3nd3l!
#Directory: data/ESP6900/May02
#}
#!! Example of outpout
#{ out
ESP6900.chr10.May02.release.vcf.gz      ESP6900.chr20.May02.release.vcf.gz.tbi
ESP6900.chr10.May02.release.vcf.gz.tbi  ESP6900.chr21.May02.release.vcf.gz
ESP6900.chr11.May02.release.vcf.gz      ESP6900.chr21.May02.release.vcf.gz.tbi
ESP6900.chr11.May02.release.vcf.gz.tbi  ESP6900.chr22.May02.release.vcf.gz
ESP6900.chr12.May02.release.vcf.gz      ESP6900.chr22.May02.release.vcf.gz.tbi
ESP6900.chr12.May02.release.vcf.gz.tbi  ESP6900.chr2.May02.release.vcf.gz
ESP6900.chr13.May02.release.vcf.gz      ESP6900.chr2.May02.release.vcf.gz.tbi
ESP6900.chr13.May02.release.vcf.gz.tbi  ESP6900.chr3.May02.release.vcf.gz
ESP6900.chr14.May02.release.vcf.gz      ESP6900.chr3.May02.release.vcf.gz.tbi
ESP6900.chr14.May02.release.vcf.gz.tbi  ESP6900.chr4.May02.release.vcf.gz
ESP6900.chr15.May02.release.vcf.gz      ESP6900.chr4.May02.release.vcf.gz.tbi
ESP6900.chr15.May02.release.vcf.gz.tbi  ESP6900.chr5.May02.release.vcf.gz
ESP6900.chr16.May02.release.vcf.gz      ESP6900.chr5.May02.release.vcf.gz.tbi
ESP6900.chr16.May02.release.vcf.gz.tbi  ESP6900.chr6.May02.release.vcf.gz
ESP6900.chr17.May02.release.vcf.gz      ESP6900.chr6.May02.release.vcf.gz.tbi
ESP6900.chr17.May02.release.vcf.gz.tbi  ESP6900.chr7.May02.release.vcf.gz
ESP6900.chr18.May02.release.vcf.gz      ESP6900.chr7.May02.release.vcf.gz.tbi
ESP6900.chr18.May02.release.vcf.gz.tbi  ESP6900.chr8.May02.release.vcf.gz
ESP6900.chr19.May02.release.vcf.gz      ESP6900.chr8.May02.release.vcf.gz.tbi
ESP6900.chr19.May02.release.vcf.gz.tbi  ESP6900.chr9.May02.release.vcf.gz
ESP6900.chr1.May02.release.vcf.gz       ESP6900.chr9.May02.release.vcf.gz.tbi
ESP6900.chr1.May02.release.vcf.gz.tbi   ESP6900.chrX.May02.release.vcf.gz
ESP6900.chr20.May02.release.vcf.gz      ESP6900.chrX.May02.release.vcf.gz.tbi
#}

#!! Example of bash commands
# Import data & create annotations
cd /home/SSD; mkdir esp69h
ln -s /home/HD2/esp69h_textfiles cache
vtools init esp69h

#{ ------------------------
# we could import all chroms but is better to import one by one with an interval between imports
vtools import --format cache/esp.fmt /home/HD1/ESP6900/May02/ESP6900*.vcf.gz --build hg19 -j7
#} ------------------------

#! Syntax highlights in language blocks
#{ bash
vtools init esp69h
chrs='X 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22'
for chr in $chrs
do
        vtools import --format cache/esp.fmt /home/HD1/ESP6900/May02/ESP6900.chr$chr.May02.release.vcf.gz --build hg19 -j7
        echo "sleeping for 1 min ... (time to kill me if you've planned so!)"
        sleep 60
done
vtools admin --merge_samples
#}
#{ r
argsv <- commandArgs(trailingOnly = TRUE)
dat <- read.table(pipe('cat /dev/stdin'), header=TRUE, sep = "\t")
for (i in argsv) get(i)(dat)
#}
#{ python
def map( fun, list ):
    nlist = []
    for item in list:
        nlist.append( fun( item ) )
    return nlist
#}
#{ cpp
#include <iostream>
using namespace std;
void main()
{
  cout << "Hello World!" << endl; 
}
#}
#{ sql
SELECT
  kEntity, sTranType, sItemType,
  COUNT(*) AS SaleLineCount,
  SUM(mAmount) AS sum_mAmount

FROM aTranLine

WHERE
  sTranType IN
    ('CashSale','CustInvc','CustChrg','CustCred')
 AND
   bDocMain = False
 AND
   sEntity2Type = 'CustJob'

GROUP BY kEntity, sTranType, sItemType
#}
#!Figures
#Support pdf, png and jpg. This is bcm logo
#* bcm.png 
# and smaller ...
#* bcm.png 0.5

###
# another section
###

###
#! Another demo
###
